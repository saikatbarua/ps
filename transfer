# Copy files that match the specified patterns from the source folder to the destination folder
Get-ChildItem -Path $sourceFolder -File | Where-Object {
    foreach ($pattern in $filePatterns) {
        if ($_.Name -like $pattern) {
            return $true
        }
    }
    return $false
} | ForEach-Object {
    $destinationFilePath = Join-Path -Path $destinationFolder -ChildPath $_.Name
    Copy-Item -Path $_.FullName -Destination $destinationFilePath
    Write-Host "Copied file to: $destinationFilePath"
}


// Construct the command
            String command = "powershell.exe -ExecutionPolicy Bypass -File CopyFiles.ps1 -sourceFolder \"" +
                             sourceFolder + "\" -destinationFolder \"" +
                             destinationFolder + "\" -filePatterns " +
                             String.join(" ", filePatterns);

            // Start the process
            Process powerShellProcess = Runtime.getRuntime().exec(command);

            // Read the output from the script
            BufferedReader stdout = new BufferedReader(new InputStreamReader(
                    powerShellProcess.getInputStream()));
            String line;
            while ((line = stdout.readLine()) != null) {
                System.out.println(line);
            }
            stdout.close();

            // Wait for the script to finish and check the exit code
            int exitCode = powerShellProcess.waitFor();
            System.out.println("Exit code: " + exitCode);

# Find subdirectories that contain at least one file with the specified file extension
$matchingSubdirectories = $subDirectories | Where-Object {
    (Get-ChildItem -Path $_.FullName -Filter $fileExtension).Count -gt 0
}
